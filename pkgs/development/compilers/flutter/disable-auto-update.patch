diff --git a/bin/flutter b/bin/flutter
index 3955f8f39..219105c1d 100755
--- a/bin/flutter
+++ b/bin/flutter
@@ -57,7 +57,7 @@ function retry_upgrade {
 }
 
 function upgrade_flutter () {
-  mkdir -p "$FLUTTER_ROOT/bin/cache"
+  mkdir -p "$HOME/.cache/flutter"
 
   # This function is executed with a redirect that pipes the source of
   # this script into file descriptor 3.
@@ -96,7 +96,7 @@ function upgrade_flutter () {
   if hash flock 2>/dev/null; then
     flock 3 2>/dev/null || true
   elif hash shlock 2>/dev/null; then
-    FLUTTER_UPGRADE_LOCK="$FLUTTER_ROOT/bin/cache/.upgrade_lock"
+    FLUTTER_UPGRADE_LOCK="$HOME/.cache/flutter/.upgrade_lock"
     while ! shlock -f "$FLUTTER_UPGRADE_LOCK" -p $$ ; do sleep .1 ; done
     trap _rmlock EXIT
   fi
@@ -185,8 +185,6 @@ fi
 # FLUTTER_TOOL_ARGS="--enable-asserts $FLUTTER_TOOL_ARGS"
 # FLUTTER_TOOL_ARGS="$FLUTTER_TOOL_ARGS --observe=65432"
 
-(upgrade_flutter) 3< "$PROG_NAME"
-
 # FLUTTER_TOOL_ARGS isn't quoted below, because it is meant to be considered as
 # separate space-separated args.
 "$DART" --packages="$FLUTTER_TOOLS_DIR/.packages" $FLUTTER_TOOL_ARGS "$SNAPSHOT_PATH" "$@"
diff --git a/packages/flutter_tools/lib/src/cache.dart b/packages/flutter_tools/lib/src/cache.dart
index 5e1950b56..92441c1b1 100644
--- a/packages/flutter_tools/lib/src/cache.dart
+++ b/packages/flutter_tools/lib/src/cache.dart
@@ -165,7 +165,7 @@ class Cache {
     }
     assert(_lock == null);
     final File lockFile =
-        fs.file(fs.path.join(flutterRoot, 'bin', 'cache', 'lockfile'));
+        fs.file(fs.path.join(homeDirPath, '.cache', 'lockfile'));
     try {
       _lock = lockFile.openSync(mode: FileMode.write);
     } on FileSystemException catch (e) {
@@ -239,7 +239,7 @@ class Cache {
     if (_rootOverride != null) {
       return fs.directory(fs.path.join(_rootOverride.path, 'bin', 'cache'));
     } else {
-      return fs.directory(fs.path.join(flutterRoot, 'bin', 'cache'));
+      return fs.directory(fs.path.join(homeDirPath, '.cache', 'flutter'));
     }
   }
 
diff --git a/packages/flutter_tools/lib/src/runner/flutter_command_runner.dart b/packages/flutter_tools/lib/src/runner/flutter_command_runner.dart
index 5e45819d9..ab748b059 100644
--- a/packages/flutter_tools/lib/src/runner/flutter_command_runner.dart
+++ b/packages/flutter_tools/lib/src/runner/flutter_command_runner.dart
@@ -377,13 +377,6 @@ class FlutterCommandRunner extends CommandRunner<void> {
         }
 
         _checkFlutterCopy();
-        try {
-          await FlutterVersion.instance.ensureVersionFile();
-        } on FileSystemException catch (e) {
-          printError('Failed to write the version file to the artifact cache: "$e".');
-          printError('Please ensure you have permissions in the artifact cache directory.');
-          throwToolExit('Failed to write the version file');
-        }
         if (topLevelResults.command?.name != 'upgrade' && topLevelResults['version-check'] as bool) {
           await FlutterVersion.instance.checkFlutterVersionFreshness();
         }
